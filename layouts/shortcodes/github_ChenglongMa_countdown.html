<div class="container">
  <h1 id="headline">会议倒计时</h1>
  <div id="countdown">
    <meta name="endtime" content="{{ .Get 0 }}"></meta>
    <ul>
      <li><span id="days"></span>天</li>
      <li><span id="hours"></span>小时</li>
      <li><span id="minutes"></span>分钟</li>
      <li><span id="seconds"></span>秒</li>
    </ul>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    var endtime = document.querySelector('meta[name="endtime"]').getAttribute('content');
    var countdown = document.getElementById('countdown');
    var daysSpan = countdown.querySelector('#days');
    var hoursSpan = countdown.querySelector('#hours');
    var minutesSpan = countdown.querySelector('#minutes');
    var secondsSpan = countdown.querySelector('#seconds');

    function updateClock() {
      var t = Date.parse(endtime) - Date.parse(new Date());
      var seconds = Math.floor((t / 1000) % 60);
      var minutes = Math.floor((t / 1000 / 60) % 60);
      var hours = Math.floor((t / (1000 * 60 * 60)) % 24);
      var days = Math.floor(t / (1000 * 60 * 60 * 24));

      daysSpan.innerHTML = days;
      hoursSpan.innerHTML = ('0' + hours).slice(-2);
      minutesSpan.innerHTML = ('0' + minutes).slice(-2);
      secondsSpan.innerHTML = ('0' + seconds).slice(-2);

      if (t <= 0) {
        clearInterval(timeinterval);
      }
    }

    updateClock();
    var timeinterval = setInterval(updateClock, 1000);
  });
</script>
